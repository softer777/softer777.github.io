<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Рулетка</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #2c3e50;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            flex-direction: column;
        }

        .roulette-table {
            display: grid;
            grid-template-columns: repeat(13, 1fr);
            grid-template-rows: 1fr;
            gap: 10px 10px;
            width: 1000px;
            height: 120px;
            padding: 10px;
            border: 10px solid #34495e;
            border-radius: 10px;
            background-color: #1f2c35;
        }

        .roulette-table .number {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 15px;
            font-weight: bold;
            transition: background-color 0.2s ease;
        }

        .roulette-table .number:hover {
            background-color: #34495e;
        }

        .roulette-table .green {
            background-color: #2ecc71;
            color: white;
        }

        .roulette-table .red {
            background-color: red;
            color: white;
        }

        .roulette-table .black {
            background-color: black;
            color: white;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            font-size: 32px;
            font-weight: bold;
        }

        #output {
            margin-top: 20px;
            font-size: 18px;
        }

        #history {
            margin-top: 20px;
            font-size: 16px;
            max-height: 200px;
            overflow-y: auto;
        }

        #resetButton {
            position: fixed; 
            bottom: 20px;
            right: 20px;
            padding: 10px 20px;
            font-size: 18px;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #resetButton:hover {
            background-color: #c0392b;
        }

/* Стиль для кнопок в выводе */
.output-number {
    display: inline-block;
    padding: 10px 20px;
    font-size: 18px;
    font-weight: bold;
    border-radius: 15px;
    cursor: pointer;
    transition: box-shadow 0.3s ease;  /* Плавный переход для тени */
    margin: 5px;
}

/* Цвета кнопок */
.output-number.green {
    background-color: #2ecc71;
    color: white;
    box-shadow: 0 0 10px rgba(46, 204, 113, 0.7), 0 0 20px rgba(46, 204, 113, 0.5);
}

.output-number.red {
    background-color: red;
    color: white;
    box-shadow: 0 0 10px rgba(231, 76, 60, 0.7), 0 0 20px rgba(231, 76, 60, 0.5);
}

.output-number.black {
    background-color: black;
    color: white;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.7), 0 0 20px rgba(0, 0, 0, 0.5);
}

/* Эффект при наведении: добавляем только свечение */
.output-number.green:hover {
    box-shadow: 0 0 15px rgba(46, 204, 113, 1), 0 0 25px rgba(46, 204, 113, 0.7); /* Ярче свечение при наведении */
}

.output-number.red:hover {
    box-shadow: 0 0 15px rgba(231, 76, 60, 1), 0 0 25px rgba(231, 76, 60, 0.7); /* Ярче свечение при наведении */
}

.output-number.black:hover {
    box-shadow: 0 0 15px rgba(0, 0, 0, 1), 0 0 25px rgba(0, 0, 0, 0.7); /* Ярче свечение при наведении */
}

        .x2-button {
            display: inline-block;
            padding: 5px 10px;
            background-color: gold;
            color: black;
            font-weight: bold;
            border-radius: 5px;
            margin-left: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            animation: glow 1.5s infinite alternate; /* Добавление анимации свечения */
        }

        /* Эффект свечения */
        @keyframes glow {
            0% {
                box-shadow: 0 0 10px gold, 0 0 20px gold, 0 0 30px gold;
                background-color: gold;
            }
            100% {
                box-shadow: 0 0 20px #ffcc00, 0 0 30px #ffcc00, 0 0 40px #ffcc00;
                background-color: #ffcc00; /* Слегка измененный золотой оттенок */
            }
        }

        /* Эффект при наведении */
        .x2-button:hover {
            background-color: #f39c12;
            animation: none; /* Останавливаем анимацию при наведении */
            box-shadow: 0 0 15px #f39c12, 0 0 25px #f39c12, 0 0 35px #f39c12; /* Усиленный эффект свечения при hover */
        }
        /* Стиль для кнопки "Пояснить" */
        #explainButton {
            background-color: #e74c3c; /* Красный цвет */
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        #explainButton:hover {
            background-color: #c0392b; /* Темно-красный при наведении */
        }

        /* Стиль для блока с пояснением */
        .explanation {
            background-color: #34495e;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 30px auto; /* Отступы сверху и снизу */
            width: 70%; /* Меньше ширина, чтобы карточка не была слишком широкой */
            display: none;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            max-height: 0;
            overflow: hidden;
        }

        /* Класс для отображения блока с пояснением */
        .explanation.show {
            display: block;
            max-height: 500px; /* Можете регулировать размер */
            padding: 20px;
        }

        /* Общий стиль для текста внутри пояснения */
        .explanation p {
            line-height: 1.5;
        }

#button-container {
    display: flex;
    flex-direction: column;  /* Кнопки будут выстраиваться по вертикали */
    position: absolute;      /* Позиционирование относительно окна */
    top: 10px;               /* Отступ сверху */
    left: 10px;              /* Отступ слева */
}

.chooseTable {
    padding: 15px 25px;
    margin: 10px;
    border: none;  /* Убираем стандартную обводку кнопки */
    background-color: #3498db;
    color: white;
    font-size: 16px;
    cursor: pointer;
    transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
    border-radius: 5px;
    position: relative;
}

.chooseTable:hover {
    background-color: #2980b9;
    transform: scale(1.05);
}

.chooseTable.active {
    background-color: #e74c3c;
    transform: scale(1.1);
    box-shadow: 0 0 10px 5px rgba(231, 76, 60, 0.7);  /* Свечение вокруг кнопки */
}

.chooseTable::after {
    content: ''; /* Убираем псевдо-элемент, который добавлял обводку */
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border: none;  /* Убираем рамку */
    opacity: 0;
    transition: opacity 0.3s ease;
}

.chooseTable.active::after {
    opacity: 0;  /* Рамка не появляется */
}
    </style>
</head>
<body>
    <div id="button-container">
        <button id="chooseTable1" class="chooseTable">Выбрать стол 1</button>
        <button id="chooseTable2" class="chooseTable">Выбрать стол 2</button>
        <button id="chooseTable3" class="chooseTable">Выбрать стол 3</button>
        <button id="chooseTable4" class="chooseTable">Выбрать стол 4</button>
    </div>

      <!-- Шапка страницы -->
    <div class="header">
        <h1>Casino Helper   <button id="explainButton">FAQ</button></h1>
    </div>

    <!-- Блок с пояснением -->
    <div id="explanation" class="explanation">
        <p>
            Добро пожаловать в помощник для игры в рулетку! Здесь вы можете отслеживать
            связки чисел, выпавших на рулетке. После каждого числа отображается следующее,
            которое выпало в предыдущий раз, и если такая связка повторяется, будет показан
            значок с числом повторений. Это поможет вам отслеживать тренды и делать более
            обоснованные ставки. Удачи!
        </p>
    </div>
    <div id="rouletteNumbers" class="roulette-table"></div>

    <div id="output"></div>
    <div id="history"></div>

    <button id="resetButton">Сбросить записи</button>

    <script>
        // Получаем все кнопки
const buttons = document.querySelectorAll('.chooseTable');

// Добавляем обработчик событий для каждой кнопки
buttons.forEach(button => {
    button.addEventListener('click', () => {
        // Убираем активный класс у всех кнопок
        buttons.forEach(btn => btn.classList.remove('active'));
        
        // Добавляем активный класс к выбранной кнопке
        button.classList.add('active');
        
    });
});
        const explainButton = document.getElementById('explainButton');
        const explanation = document.getElementById('explanation');

        // Обработчик клика на кнопку "Пояснить"
        explainButton.addEventListener('click', () => {
            explanation.classList.toggle('show'); // Показать/скрыть пояснение
        });
        const colors = {
            0: 'green',
            1: 'red', 2: 'black', 3: 'red', 4: 'black', 5: 'red', 6: 'black', 7: 'red', 8: 'black', 9: 'red',
            10: 'black', 11: 'red', 12: 'black', 13: 'red', 14: 'black', 15: 'red', 16: 'black', 17: 'red',
            18: 'black', 19: 'red', 20: 'black', 21: 'red', 22: 'black', 23: 'red', 24: 'black', 25: 'red',
            26: 'black', 27: 'red', 28: 'black', 29: 'red', 30: 'black', 31: 'red', 32: 'black', 33: 'red',
            34: 'black', 35: 'red', 36: 'black',
            '00': 'green'
        };

        const columns = [
            ['0', '00'],
            [1, 2, 3],
            [4, 5, 6],
            [7, 8, 9],
            [10, 11, 12],
            [13, 14, 15],
            [16, 17, 18],
            [19, 20, 21],
            [22, 23, 24],
            [25, 26, 27],
            [28, 29, 30],
            [31, 32, 33],
            [34, 35, 36]
        ];

        const rouletteNumbers = document.getElementById('rouletteNumbers');
        let prevNumber = null;
        let pairCounts = JSON.parse(localStorage.getItem('pairCounts')) || {};
        // Пример существующего кода для столов
const saveButton1 = document.getElementById('saveButton1');
const saveButton2 = document.getElementById('saveButton2');
const saveButton3 = document.getElementById('saveButton3');
const saveButton4 = document.getElementById('saveButton4');

const chooseTable1 = document.getElementById('chooseTable1');
const chooseTable2 = document.getElementById('chooseTable2');
const chooseTable3 = document.getElementById('chooseTable3');
const chooseTable4 = document.getElementById('chooseTable4');

let currentTable = 1; // Начинаем с первого стола по умолчанию
let currentPairCounts = JSON.parse(localStorage.getItem('pairCounts1')) || {}; // Для стола 1

// Функция для обновления истории
function updateHistory() {
    const historyDiv = document.getElementById('history');
    historyDiv.innerHTML = ''; // Очистить историю

    for (const pair in currentPairCounts) {
        const pairData = JSON.parse(pair);
        const count = currentPairCounts[pair];
    }
}

// Обработчики выбора стола
chooseTable1.addEventListener('click', () => {
    currentTable = 1;
    currentPairCounts = JSON.parse(localStorage.getItem('pairCounts1')) || {}; // Загружаем данные для стола 1
    updateHistory();
});

chooseTable2.addEventListener('click', () => {
    currentTable = 2;
    currentPairCounts = JSON.parse(localStorage.getItem('pairCounts2')) || {}; // Загружаем данные для стола 2
    updateHistory();
});

chooseTable3.addEventListener('click', () => {
    currentTable = 3;
    currentPairCounts = JSON.parse(localStorage.getItem('pairCounts3')) || {}; // Загружаем данные для стола 3
    updateHistory();
});

chooseTable4.addEventListener('click', () => {
    currentTable = 4;
    currentPairCounts = JSON.parse(localStorage.getItem('pairCounts4')) || {}; // Загружаем данные для стола 4
    updateHistory();
});

// Функция для отслеживания чисел и их комбинаций
function trackNumberPairs(num) {
    let output = document.getElementById('output');
    output.innerHTML = ''; // Очистить вывод

    if (prevNumber !== null) {
        let pair = [prevNumber, num];

        // Проверка и добавление комбинации в текущую коллекцию
        if (currentPairCounts[JSON.stringify(pair)]) {
            currentPairCounts[JSON.stringify(pair)]++;
        } else {
            currentPairCounts[JSON.stringify(pair)] = 1;
        }

        // Сохранение в Local Storage для текущего стола
        localStorage.setItem(`pairCounts${currentTable}`, JSON.stringify(currentPairCounts));
    }

    let found = false;
    for (let key in currentPairCounts) {
        let pair = JSON.parse(key);
        if (pair[0] === num) {
            const nextNumber = pair[1];
            const button = createButton(nextNumber);
            output.innerHTML += `После числа ${pair[0]} падает ${button.outerHTML}`;

            if (currentPairCounts[key] > 1) {
                const xButton = createXButton(currentPairCounts[key]);
                output.innerHTML += xButton.outerHTML;
            }

            output.innerHTML += '<br>';

            found = true;
        }
    }

    if (!found) {
        output.innerHTML += `После числа ${num} нет связки.<br>`;
    }

    prevNumber = num;
    updateHistory(); // Обновить историю
}

// Функция для создания кнопки с числом
function createButton(number) {
    const color = colors[number];
    const button = document.createElement('span');
    button.classList.add('output-number', color);
    button.textContent = number === '00' ? '00' : number;
    return button;
}

// Функция для создания кнопки xN
function createXButton(count) {
    const button = document.createElement('span');
    button.classList.add('x2-button');
    button.textContent = `x${count}`;
    return button;
}

// Добавление обработчиков для номеров рулетки (по аналогии с вашим исходным кодом)
columns.forEach((column) => {
    let columnDiv = document.createElement('div');
    columnDiv.classList.add('roulette-column');

    column.reverse(); // Инвертируем порядок чисел

    column.forEach((number) => {
        let button = document.createElement('div');
        let color = colors[number];
        button.classList.add('number', color);
        button.textContent = number === '00' ? '00' : number;
        button.onclick = () => trackNumberPairs(number);
        columnDiv.appendChild(button);
    });

    rouletteNumbers.appendChild(columnDiv);
});

// Обработчик сброса данных
document.getElementById('resetButton').addEventListener('click', () => {
    localStorage.removeItem(`pairCounts${currentTable}`); // Очистить Local Storage для текущего стола
    currentPairCounts = {}; // Очистить локальную переменную
    updateHistory(); // Обновить отображение истории
});

// Загрузка истории для выбранного стола при старте
updateHistory();
    </script>

</body>
</html>
